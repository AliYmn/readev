(()=>{"use strict";let e=!0;function t(e){try{chrome.action?e?chrome.action.setBadgeText({text:""}):(chrome.action.setBadgeText({text:"OFF"}),chrome.action.setBadgeBackgroundColor({color:"#888888"})):chrome.browserAction&&(e?chrome.browserAction.setBadgeText({text:""}):(chrome.browserAction.setBadgeText({text:"OFF"}),chrome.browserAction.setBadgeBackgroundColor({color:"#888888"})))}catch(e){console.error("Error updating extension icon:",e)}}chrome.runtime.onInstalled.addListener(r=>{console.log("Readev extension installed"),chrome.storage.local.get(["extensionEnabled"],r=>{e=void 0===r.extensionEnabled||r.extensionEnabled,t(e)}),"install"===r.reason&&chrome.tabs.create({url:"https://devurls.com/"})}),chrome.tabs.onCreated.addListener(t=>{!e&&t.id&&t.pendingUrl?.includes("newtab.html")&&setTimeout(()=>{try{chrome.tabs.remove(t.id),chrome.tabs.create({url:"about:blank"})}catch(e){console.error("Error redirecting tab:",e)}},100)}),chrome.runtime.onMessage.addListener((r,o,c)=>{if("fetchFeed"===r.action)return e?(async function(e){try{const t=await fetch(e,{method:"GET",headers:{Accept:"application/rss+xml, application/xml, text/xml, application/atom+xml"}});if(!t.ok)throw new Error(`Failed to fetch feed: ${t.status} ${t.statusText}`);return await t.text()}catch(e){throw console.error("Error fetching feed:",e),e}}(r.url).then(e=>c({success:!0,data:e})).catch(e=>c({success:!1,error:e.toString()})),!0):(c({success:!1,error:"Extension is disabled"}),!0);if("updateExtensionState"===r.action){if(e=r.enabled,t(e),chrome.storage.local.set({extensionEnabled:e}),!e)try{chrome.tabs.query({url:chrome.runtime.getURL("newtab.html")},e=>{e.forEach(e=>{e.id&&(chrome.tabs.remove(e.id),chrome.tabs.create({url:"about:blank"}))})})}catch(e){console.error("Error updating existing tabs:",e)}return c({success:!0}),!0}})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianMvYmFja2dyb3VuZC5qcyIsIm1hcHBpbmdzIjoibUJBS0EsSUFBSUEsR0FBbUIsRUFtRnZCLFNBQVNDLEVBQW9CQyxHQUMzQixJQUdNQyxPQUFPQyxPQUNKRixFQUlIQyxPQUFPQyxPQUFPQyxhQUFhLENBQUVDLEtBQU0sTUFIbkNILE9BQU9DLE9BQU9DLGFBQWEsQ0FBRUMsS0FBTSxRQUNuQ0gsT0FBT0MsT0FBT0csd0JBQXdCLENBQUVDLE1BQU8sYUFJeENMLE9BQU9NLGdCQUNYUCxFQUlIQyxPQUFPTSxjQUFjSixhQUFhLENBQUVDLEtBQU0sTUFIMUNILE9BQU9NLGNBQWNKLGFBQWEsQ0FBRUMsS0FBTSxRQUMxQ0gsT0FBT00sY0FBY0Ysd0JBQXdCLENBQUVDLE1BQU8sYUFLNUQsQ0FBRSxNQUFPRSxHQUNQQyxRQUFRRCxNQUFNLGlDQUFrQ0EsRUFDbEQsQ0FDRixDQXRHQVAsT0FBT1MsUUFBUUMsWUFBWUMsWUFBYUMsSUFDdENKLFFBQVFLLElBQUksOEJBR1piLE9BQU9jLFFBQVFDLE1BQU1DLElBQUksQ0FBQyxvQkFBc0JDLElBQzlDcEIsT0FBK0NxQixJQUE1QkQsRUFBT3BCLGtCQUFpQ29CLEVBQU9wQixpQkFDbEVDLEVBQW9CRCxLQUlDLFlBQW5CZSxFQUFRTyxRQUVWbkIsT0FBT29CLEtBQUtDLE9BQU8sQ0FDakJDLElBQUssMkJBTVh0QixPQUFPb0IsS0FBS0csVUFBVVosWUFBYWEsS0FFNUIzQixHQUFvQjJCLEVBQUlDLElBQU1ELEVBQUlFLFlBQVlDLFNBQVMsZ0JBRzFEQyxXQUFXLEtBQ1QsSUFDRTVCLE9BQU9vQixLQUFLUyxPQUFPTCxFQUFJQyxJQUN2QnpCLE9BQU9vQixLQUFLQyxPQUFPLENBQUVDLElBQUssZUFDNUIsQ0FBRSxNQUFPZixHQUNQQyxRQUFRRCxNQUFNLHlCQUEwQkEsRUFDMUMsR0FDQyxPQUtQUCxPQUFPUyxRQUFRcUIsVUFBVW5CLFlBQVksQ0FBQ29CLEVBQVNDLEVBQVFDLEtBQ3JELEdBQXVCLGNBQW5CRixFQUFROUIsT0FFVixPQUFJSixHQW9FUnFDLGVBQXlCWixHQUN2QixJQUNFLE1BQU1hLFFBQWlCQyxNQUFNZCxFQUFLLENBQ2hDZSxPQUFRLE1BQ1JDLFFBQVMsQ0FDUCxPQUFVLDBFQUlkLElBQUtILEVBQVNJLEdBQ1osTUFBTSxJQUFJQyxNQUFNLHlCQUF5QkwsRUFBU00sVUFBVU4sRUFBU08sY0FHdkUsYUFBYVAsRUFBU2hDLE1BQ3hCLENBQUUsTUFBT0ksR0FFUCxNQURBQyxRQUFRRCxNQUFNLHVCQUF3QkEsR0FDaENBLENBQ1IsQ0FDRixDQXJGTW9DLENBQVVaLEVBQVFULEtBQ2ZzQixLQUFLQyxHQUFRWixFQUFhLENBQUVhLFNBQVMsRUFBTUQsVUFDM0NFLE1BQU14QyxHQUFTMEIsRUFBYSxDQUFFYSxTQUFTLEVBQU92QyxNQUFPQSxFQUFNeUMsZUFDdkQsSUFFUGYsRUFBYSxDQUFFYSxTQUFTLEVBQU92QyxNQUFPLDJCQUMvQixHQUVKLEdBQXVCLHlCQUFuQndCLEVBQVE5QixPQUFtQyxDQU9wRCxHQUxBSixFQUFtQmtDLEVBQVFoQyxRQUMzQkQsRUFBb0JELEdBQ3BCRyxPQUFPYyxRQUFRQyxNQUFNa0MsSUFBSSxDQUFFcEQsaUJBQWtCQSxLQUd4Q0EsRUFDSCxJQUVFRyxPQUFPb0IsS0FBSzhCLE1BQU0sQ0FBRTVCLElBQUt0QixPQUFPUyxRQUFRMEMsT0FBTyxnQkFBbUIvQixJQUNoRUEsRUFBS2dDLFFBQVE1QixJQUNQQSxFQUFJQyxLQUVOekIsT0FBT29CLEtBQUtTLE9BQU9MLEVBQUlDLElBQ3ZCekIsT0FBT29CLEtBQUtDLE9BQU8sQ0FBRUMsSUFBSyxvQkFJbEMsQ0FBRSxNQUFPZixHQUNQQyxRQUFRRCxNQUFNLGdDQUFpQ0EsRUFDakQsQ0FJRixPQURBMEIsRUFBYSxDQUFFYSxTQUFTLEtBQ2pCLENBQ1QsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWRldi1uZXdzLy4vc3JjL2JhY2tncm91bmQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBCYWNrZ3JvdW5kIHNjcmlwdCBmb3IgUmVhZGV2IGV4dGVuc2lvblxuICovXG5cbi8vIEV4dGVuc2lvbiBzdGF0ZVxubGV0IGV4dGVuc2lvbkVuYWJsZWQgPSB0cnVlO1xuXG4vLyBMaXN0ZW4gZm9yIGluc3RhbGxhdGlvblxuY2hyb21lLnJ1bnRpbWUub25JbnN0YWxsZWQuYWRkTGlzdGVuZXIoKGRldGFpbHMpID0+IHtcbiAgY29uc29sZS5sb2coJ1JlYWRldiBleHRlbnNpb24gaW5zdGFsbGVkJyk7XG5cbiAgLy8gSW5pdGlhbGl6ZSBleHRlbnNpb24gc3RhdGVcbiAgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KFsnZXh0ZW5zaW9uRW5hYmxlZCddLCAocmVzdWx0KSA9PiB7XG4gICAgZXh0ZW5zaW9uRW5hYmxlZCA9IHJlc3VsdC5leHRlbnNpb25FbmFibGVkICE9PSB1bmRlZmluZWQgPyByZXN1bHQuZXh0ZW5zaW9uRW5hYmxlZCA6IHRydWU7XG4gICAgdXBkYXRlRXh0ZW5zaW9uSWNvbihleHRlbnNpb25FbmFibGVkKTtcbiAgfSk7XG5cbiAgLy8gT3BlbiBkZWZhdWx0IHNpdGUgd2hlbiBleHRlbnNpb24gaXMgaW5zdGFsbGVkXG4gIGlmIChkZXRhaWxzLnJlYXNvbiA9PT0gJ2luc3RhbGwnKSB7XG4gICAgLy8gT3BlbiBkZWZhdWx0IHNpdGUgaW4gYSBuZXcgdGFiXG4gICAgY2hyb21lLnRhYnMuY3JlYXRlKHtcbiAgICAgIHVybDogJ2h0dHBzOi8vZGV2dXJscy5jb20vJ1xuICAgIH0pO1xuICB9XG59KTtcblxuLy8gTGlzdGVuIGZvciB0YWIgY3JlYXRpb24gdG8gaGFuZGxlIG5ldyB0YWIgb3ZlcnJpZGVcbmNocm9tZS50YWJzLm9uQ3JlYXRlZC5hZGRMaXN0ZW5lcigodGFiKSA9PiB7XG4gIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBuZXcgdGFiIHBhZ2UgYW5kIGV4dGVuc2lvbiBpcyBkaXNhYmxlZFxuICBpZiAoIWV4dGVuc2lvbkVuYWJsZWQgJiYgdGFiLmlkICYmIHRhYi5wZW5kaW5nVXJsPy5pbmNsdWRlcygnbmV3dGFiLmh0bWwnKSkge1xuICAgIC8vIElmIGV4dGVuc2lvbiBpcyBkaXNhYmxlZCwgd2UnbGwgY2xvc2UgdGhpcyB0YWIgYW5kIG9wZW4gYSBibGFuayBvbmVcbiAgICAvLyBUaGlzIGlzIGEgd29ya2Fyb3VuZCBzaW5jZSB3ZSBjYW4ndCBkaXJlY3RseSBuYXZpZ2F0ZSB0byBjaHJvbWU6Ly9uZXd0YWIvXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjaHJvbWUudGFicy5yZW1vdmUodGFiLmlkISk7XG4gICAgICAgIGNocm9tZS50YWJzLmNyZWF0ZSh7IHVybDogJ2Fib3V0OmJsYW5rJyB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlZGlyZWN0aW5nIHRhYjonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfSwgMTAwKTtcbiAgfVxufSk7XG5cbi8vIExpc3RlbiBmb3IgbWVzc2FnZXMgZnJvbSBjb250ZW50IHNjcmlwdHNcbmNocm9tZS5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcigocmVxdWVzdCwgc2VuZGVyLCBzZW5kUmVzcG9uc2UpID0+IHtcbiAgaWYgKHJlcXVlc3QuYWN0aW9uID09PSAnZmV0Y2hGZWVkJykge1xuICAgIC8vIE9ubHkgZmV0Y2ggZmVlZCBpZiBleHRlbnNpb24gaXMgZW5hYmxlZFxuICAgIGlmIChleHRlbnNpb25FbmFibGVkKSB7XG4gICAgICBmZXRjaEZlZWQocmVxdWVzdC51cmwpXG4gICAgICAgIC50aGVuKGRhdGEgPT4gc2VuZFJlc3BvbnNlKHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9KSlcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IHNlbmRSZXNwb25zZSh7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IudG9TdHJpbmcoKSB9KSk7XG4gICAgICByZXR1cm4gdHJ1ZTsgLy8gUmVxdWlyZWQgZm9yIGFzeW5jIHNlbmRSZXNwb25zZVxuICAgIH0gZWxzZSB7XG4gICAgICBzZW5kUmVzcG9uc2UoeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdFeHRlbnNpb24gaXMgZGlzYWJsZWQnIH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9IGVsc2UgaWYgKHJlcXVlc3QuYWN0aW9uID09PSAndXBkYXRlRXh0ZW5zaW9uU3RhdGUnKSB7XG4gICAgLy8gVXBkYXRlIGV4dGVuc2lvbiBzdGF0ZVxuICAgIGV4dGVuc2lvbkVuYWJsZWQgPSByZXF1ZXN0LmVuYWJsZWQ7XG4gICAgdXBkYXRlRXh0ZW5zaW9uSWNvbihleHRlbnNpb25FbmFibGVkKTtcbiAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoeyBleHRlbnNpb25FbmFibGVkOiBleHRlbnNpb25FbmFibGVkIH0pO1xuICAgIFxuICAgIC8vIElmIGV4dGVuc2lvbiBpcyBkaXNhYmxlZCBhbmQgd2UncmUgb24gdGhlIG5ld3RhYiBwYWdlLCByZWRpcmVjdCB0byBhYm91dDpibGFua1xuICAgIGlmICghZXh0ZW5zaW9uRW5hYmxlZCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gRmluZCBhbGwgdGFicyB3aXRoIG91ciBleHRlbnNpb24ncyBuZXd0YWIgcGFnZVxuICAgICAgICBjaHJvbWUudGFicy5xdWVyeSh7IHVybDogY2hyb21lLnJ1bnRpbWUuZ2V0VVJMKCduZXd0YWIuaHRtbCcpIH0sICh0YWJzKSA9PiB7XG4gICAgICAgICAgdGFicy5mb3JFYWNoKHRhYiA9PiB7XG4gICAgICAgICAgICBpZiAodGFiLmlkKSB7XG4gICAgICAgICAgICAgIC8vIENsb3NlIGFuZCByZW9wZW4gYXMgYmxhbmsgdGFiXG4gICAgICAgICAgICAgIGNocm9tZS50YWJzLnJlbW92ZSh0YWIuaWQpO1xuICAgICAgICAgICAgICBjaHJvbWUudGFicy5jcmVhdGUoeyB1cmw6ICdhYm91dDpibGFuaycgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgZXhpc3RpbmcgdGFiczonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHNlbmRSZXNwb25zZSh7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn0pO1xuXG4vKipcbiAqIFVwZGF0ZSBleHRlbnNpb24gaWNvbiBiYXNlZCBvbiBlbmFibGVkL2Rpc2FibGVkIHN0YXRlXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUV4dGVuc2lvbkljb24oZW5hYmxlZDogYm9vbGVhbik6IHZvaWQge1xuICB0cnkge1xuICAgIC8vIEluc3RlYWQgb2YgdHJ5aW5nIHRvIHVzZSBkaWZmZXJlbnQgaWNvbiBmaWxlcywgd2UnbGwganVzdCBzZXQgYmFkZ2UgdGV4dFxuICAgIC8vIHRvIGluZGljYXRlIGRpc2FibGVkIHN0YXRlXG4gICAgaWYgKGNocm9tZS5hY3Rpb24pIHtcbiAgICAgIGlmICghZW5hYmxlZCkge1xuICAgICAgICBjaHJvbWUuYWN0aW9uLnNldEJhZGdlVGV4dCh7IHRleHQ6ICdPRkYnIH0pO1xuICAgICAgICBjaHJvbWUuYWN0aW9uLnNldEJhZGdlQmFja2dyb3VuZENvbG9yKHsgY29sb3I6ICcjODg4ODg4JyB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNocm9tZS5hY3Rpb24uc2V0QmFkZ2VUZXh0KHsgdGV4dDogJycgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjaHJvbWUuYnJvd3NlckFjdGlvbikge1xuICAgICAgaWYgKCFlbmFibGVkKSB7XG4gICAgICAgIGNocm9tZS5icm93c2VyQWN0aW9uLnNldEJhZGdlVGV4dCh7IHRleHQ6ICdPRkYnIH0pO1xuICAgICAgICBjaHJvbWUuYnJvd3NlckFjdGlvbi5zZXRCYWRnZUJhY2tncm91bmRDb2xvcih7IGNvbG9yOiAnIzg4ODg4OCcgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaHJvbWUuYnJvd3NlckFjdGlvbi5zZXRCYWRnZVRleHQoeyB0ZXh0OiAnJyB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgZXh0ZW5zaW9uIGljb246JywgZXJyb3IpO1xuICB9XG59XG5cbi8qKlxuICogRmV0Y2ggUlNTIGZlZWQgY29udGVudCBieXBhc3NpbmcgQ09SUyByZXN0cmljdGlvbnNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hGZWVkKHVybDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9yc3MreG1sLCBhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sLCBhcHBsaWNhdGlvbi9hdG9tK3htbCdcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIGZlZWQ6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBmZWVkOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImV4dGVuc2lvbkVuYWJsZWQiLCJ1cGRhdGVFeHRlbnNpb25JY29uIiwiZW5hYmxlZCIsImNocm9tZSIsImFjdGlvbiIsInNldEJhZGdlVGV4dCIsInRleHQiLCJzZXRCYWRnZUJhY2tncm91bmRDb2xvciIsImNvbG9yIiwiYnJvd3NlckFjdGlvbiIsImVycm9yIiwiY29uc29sZSIsInJ1bnRpbWUiLCJvbkluc3RhbGxlZCIsImFkZExpc3RlbmVyIiwiZGV0YWlscyIsImxvZyIsInN0b3JhZ2UiLCJsb2NhbCIsImdldCIsInJlc3VsdCIsInVuZGVmaW5lZCIsInJlYXNvbiIsInRhYnMiLCJjcmVhdGUiLCJ1cmwiLCJvbkNyZWF0ZWQiLCJ0YWIiLCJpZCIsInBlbmRpbmdVcmwiLCJpbmNsdWRlcyIsInNldFRpbWVvdXQiLCJyZW1vdmUiLCJvbk1lc3NhZ2UiLCJyZXF1ZXN0Iiwic2VuZGVyIiwic2VuZFJlc3BvbnNlIiwiYXN5bmMiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiZmV0Y2hGZWVkIiwidGhlbiIsImRhdGEiLCJzdWNjZXNzIiwiY2F0Y2giLCJ0b1N0cmluZyIsInNldCIsInF1ZXJ5IiwiZ2V0VVJMIiwiZm9yRWFjaCJdLCJzb3VyY2VSb290IjoiIn0=